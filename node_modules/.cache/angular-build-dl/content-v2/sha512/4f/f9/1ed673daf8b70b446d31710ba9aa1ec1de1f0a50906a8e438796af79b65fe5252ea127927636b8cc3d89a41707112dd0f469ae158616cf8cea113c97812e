{"version":3,"sources":["webpack:///src/app/producto/producto.page.html","webpack:///src/app/producto/producto-routing.module.ts","webpack:///src/app/producto/producto.module.ts","webpack:///src/app/producto/producto.page.scss","webpack:///src/app/producto/producto.page.ts"],"names":["routes","path","component","ProductoPageRoutingModule","imports","forChild","exports","ProductoPageModule","declarations","ProductoPage","servicio","route","loading","camara","id","codigo","nombre","descripcion","stock","precio","activo","imagen","id_provincia","categorias","id_categoria","snapshot","params","productoId","Cargar_Categorias","create","l","present","Producto_Consulta","subscribe","data","dismiss","info","item","Mensaje","irA","_","Categorias_Listado","items","error","Producto_Guardar","mensaje","getPicture","quality","allowEdit","targetHeight","targetWidth","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","then","imageData","err","selector","template"],"mappings":"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","file":"producto-producto-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"success\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" defaultHref=\\\"productos\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title size=\\\"small\\\">{{id == 0 ? 'Nuevo' : 'Editar'}} producto {{id == 0 ? '' : id}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"Guardar()\\\">\\n        <ion-icon name=\\\"save\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Código</ion-label>\\n      <ion-input [(ngModel)]=\\\"codigo\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Nombre</ion-label>\\n      <ion-input [(ngModel)]=\\\"nombre\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Descripcion</ion-label>\\n      <ion-input [(ngModel)]=\\\"descripcion\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Categoria</ion-label>\\n      <ion-select class=\\\"custom-options\\\" interface=\\\"popover\\\" [(ngModel)]=\\\"id_categoria\\\"  placeholder='Seleccione..'>\\n        <ion-select-option *ngFor=\\\"let categoria of categorias\\\" value=\\\"{{ categoria.id}}\\\">\\n            {{ categoria.nombre }}\\n        </ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Stock</ion-label>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"stock\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Precio</ion-label>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"precio\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Activo</ion-label>\\n      <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"activo\\\"></ion-toggle>\\n    </ion-item>\\n    <ion-item>\\n      <ion-button slot=\\\"start\\\" fill=\\\"outline\\\" (click)=\\\"Capturar_Foto()\\\">\\n        <ion-icon name=\\\"camera-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-label>\\n        <h3>Foto</h3>\\n        <img *ngIf=\\\"imagen != null\\\" [src]=\\\"imagen\\\" />\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductoPage } from './producto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductoPageRoutingModule } from './producto-routing.module';\n\nimport { ProductoPage } from './producto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductoPageRoutingModule\n  ],\n  declarations: [ProductoPage]\n})\nexport class ProductoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3RvL3Byb2R1Y3RvLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ServiciosService } from '../servicios.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { Camera } from '@ionic-native/camera/ngx';\n\n\n@Component({\n  selector: 'app-producto',\n  templateUrl: './producto.page.html',\n  styleUrls: ['./producto.page.scss'],\n})\nexport class ProductoPage implements OnInit {\n\n  public id: number = 0;\n  public codigo: string = '';\n  public nombre: string = '';\n  public descripcion: string = '';\n  public stock: number = 0;\n  public precio: number = 0;\n  public activo: boolean = true;\n  public imagen: any = null;\n  public id_provincia:number = 0;\n  public categorias: any[] = [];\n  public id_categoria:number = 0;\n\n  constructor(\n    public servicio: ServiciosService,\n    public route: ActivatedRoute,\n    public loading: LoadingController,\n    public camara: Camera\n  ) {\n    this.id = this.route.snapshot.params.productoId ? this.route.snapshot.params.productoId : 0;\n  }\n\n  async ionViewWillEnter() {\n    this.Cargar_Categorias();\n    if (this.id > 0) {\n      let l = await this.loading.create();\n      l.present();\n      this.servicio.Producto_Consulta(this.id)\n        .subscribe((data: any) => {\n          l.dismiss();\n          if (data.info.item.id > 0) {\n            this.codigo = data.info.item.codigo;\n            this.nombre = data.info.item.nombre;\n            this.stock = data.info.item.stock;\n            this.precio = data.info.item.precio;\n          } else {\n            this.servicio.Mensaje('El producto que intenta consultar no existe.', 'danger');\n            this.servicio.irA('/productos');\n          }\n        }, _ => {\n          l.dismiss();\n          this.servicio.Mensaje('No se pudo realizar la petición.', 'danger');\n          this.servicio.irA('/productos');\n        });\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  async Cargar_Categorias() {\n    let l = await this.loading.create();\n    l.present();\n    this.servicio.Categorias_Listado()\n      .subscribe((data: any) => {\n        this.categorias = data.info.items;\n        l.dismiss();\n      }, (error: any) => {\n        l.dismiss();\n      });\n  }\n\n  async Guardar() {\n    if (this.codigo == '') {\n      this.servicio.Mensaje('Debe ingresar el código.', 'warning');\n    }else if(this.id_categoria == 0){\n      this.servicio.Mensaje('Debe seleccionar una categoria.', 'warning');\n    } else if (this.nombre == '') {\n      this.servicio.Mensaje('Debe ingresar el nombre.', 'warning');\n     } else if (this.descripcion == '') {\n        this.servicio.Mensaje('Debe ingresar una descripcion.', 'warning');\n    } else if (this.stock == 0) {\n      this.servicio.Mensaje('Debe ingresar el stock.', 'warning');\n    } else if (this.precio == 0) {\n      this.servicio.Mensaje('Debe ingresar el precio.', 'warning');\n    } else {\n      let l = await this.loading.create();\n      l.present();\n      this.servicio.Producto_Guardar({\n        id: this.id,\n        codigo: this.codigo,\n        nombre: this.nombre,\n        descripcion: this.descripcion,\n        id_categoria: this.id_categoria,\n        stock: this.stock,\n        precio: this.precio,\n        activo: this.activo ? 1 : 0,\n        imagen: this.imagen\n      }).subscribe((data: any) => {\n        l.dismiss();\n        this.servicio.Mensaje(data.mensaje, data.info.id == 0 ? 'danger' : 'success');\n        if (data.info.id > 0) {\n          this.servicio.irA('/productos');\n        }\n      }, _ => {\n        l.dismiss();\n        this.servicio.Mensaje('No se pudo realizar la petición.', 'danger');\n      });\n    }\n  }\n\n  Capturar_Foto() {\n\n    this.camara.getPicture({\n      quality: 60,\n      allowEdit: true,\n      targetHeight: 800,\n      targetWidth: 800,\n      destinationType: this.camara.DestinationType.DATA_URL,\n      encodingType: this.camara.EncodingType.JPEG,\n      mediaType: this.camara.MediaType.PICTURE\n    }).then((imageData) => {\n      this.imagen = 'data:image/jpeg;base64,' + imageData;\n    }, (err) => {\n      this.servicio.Mensaje('No capturó ninguna imagen.', 'danger');\n    });\n  }\n}\n"]}