{"version":3,"sources":["./src/app/producto/producto.page.html","./src/app/producto/producto-routing.module.ts","./src/app/producto/producto.module.ts","./src/app/producto/producto.page.scss","./src/app/producto/producto.page.ts"],"names":[],"mappings":"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","file":"producto-producto-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"success\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" defaultHref=\\\"productos\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title size=\\\"small\\\">{{id == 0 ? 'Nuevo' : 'Editar'}} producto {{id == 0 ? '' : id}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"Guardar()\\\">\\n        <ion-icon name=\\\"save\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Código</ion-label>\\n      <ion-input [(ngModel)]=\\\"codigo\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Nombre</ion-label>\\n      <ion-input [(ngModel)]=\\\"nombre\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Descripcion</ion-label>\\n      <ion-input [(ngModel)]=\\\"descripcion\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Categoria</ion-label>\\n      <ion-select class=\\\"custom-options\\\" interface=\\\"popover\\\" [(ngModel)]=\\\"id_categoria\\\"  placeholder='Seleccione..'>\\n        <ion-select-option *ngFor=\\\"let categoria of categorias\\\" value=\\\"{{ categoria.id}}\\\">\\n            {{ categoria.nombre }}\\n        </ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Stock</ion-label>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"stock\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Precio</ion-label>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"precio\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>Activo</ion-label>\\n      <ion-toggle slot=\\\"end\\\" [(ngModel)]=\\\"activo\\\"></ion-toggle>\\n    </ion-item>\\n    <ion-item>\\n      <ion-button slot=\\\"start\\\" fill=\\\"outline\\\" (click)=\\\"Capturar_Foto()\\\">\\n        <ion-icon name=\\\"camera-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-label>\\n        <h3>Foto</h3>\\n        <img *ngIf=\\\"imagen != null\\\" [src]=\\\"imagen\\\" />\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductoPage } from './producto.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductoPageRoutingModule } from './producto-routing.module';\n\nimport { ProductoPage } from './producto.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductoPageRoutingModule\n  ],\n  declarations: [ProductoPage]\n})\nexport class ProductoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3RvL3Byb2R1Y3RvLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ServiciosService } from '../servicios.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { Camera } from '@ionic-native/camera/ngx';\n\n\n@Component({\n  selector: 'app-producto',\n  templateUrl: './producto.page.html',\n  styleUrls: ['./producto.page.scss'],\n})\nexport class ProductoPage implements OnInit {\n\n  public id: number = 0;\n  public codigo: string = '';\n  public nombre: string = '';\n  public descripcion: string = '';\n  public stock: number = 0;\n  public precio: number = 0;\n  public activo: boolean = true;\n  public imagen: any = null;\n  public id_provincia:number = 0;\n  public categorias: any[] = [];\n  public id_categoria:number = 0;\n\n  constructor(\n    public servicio: ServiciosService,\n    public route: ActivatedRoute,\n    public loading: LoadingController,\n    public camara: Camera\n  ) {\n    this.id = this.route.snapshot.params.productoId ? this.route.snapshot.params.productoId : 0;\n  }\n\n  async ionViewWillEnter() {\n    this.Cargar_Categorias();\n    if (this.id > 0) {\n      let l = await this.loading.create();\n      l.present();\n      this.servicio.Producto_Consulta(this.id)\n        .subscribe((data: any) => {\n          l.dismiss();\n          if (data.info.item.id > 0) {\n            this.codigo = data.info.item.codigo;\n            this.nombre = data.info.item.nombre;\n            this.stock = data.info.item.stock;\n            this.precio = data.info.item.precio;\n          } else {\n            this.servicio.Mensaje('El producto que intenta consultar no existe.', 'danger');\n            this.servicio.irA('/productos');\n          }\n        }, _ => {\n          l.dismiss();\n          this.servicio.Mensaje('No se pudo realizar la petición.', 'danger');\n          this.servicio.irA('/productos');\n        });\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  async Cargar_Categorias() {\n    let l = await this.loading.create();\n    l.present();\n    this.servicio.Categorias_Listado()\n      .subscribe((data: any) => {\n        this.categorias = data.info.items;\n        l.dismiss();\n      }, (error: any) => {\n        l.dismiss();\n      });\n  }\n\n  async Guardar() {\n    if (this.codigo == '') {\n      this.servicio.Mensaje('Debe ingresar el código.', 'warning');\n    }else if(this.id_categoria == 0){\n      this.servicio.Mensaje('Debe seleccionar una categoria.', 'warning');\n    } else if (this.nombre == '') {\n      this.servicio.Mensaje('Debe ingresar el nombre.', 'warning');\n     } else if (this.descripcion == '') {\n        this.servicio.Mensaje('Debe ingresar una descripcion.', 'warning');\n    } else if (this.stock == 0) {\n      this.servicio.Mensaje('Debe ingresar el stock.', 'warning');\n    } else if (this.precio == 0) {\n      this.servicio.Mensaje('Debe ingresar el precio.', 'warning');\n    } else {\n      let l = await this.loading.create();\n      l.present();\n      this.servicio.Producto_Guardar({\n        id: this.id,\n        codigo: this.codigo,\n        nombre: this.nombre,\n        descripcion: this.descripcion,\n        id_categoria: this.id_categoria,\n        stock: this.stock,\n        precio: this.precio,\n        activo: this.activo ? 1 : 0,\n        imagen: this.imagen\n      }).subscribe((data: any) => {\n        l.dismiss();\n        this.servicio.Mensaje(data.mensaje, data.info.id == 0 ? 'danger' : 'success');\n        if (data.info.id > 0) {\n          this.servicio.irA('/productos');\n        }\n      }, _ => {\n        l.dismiss();\n        this.servicio.Mensaje('No se pudo realizar la petición.', 'danger');\n      });\n    }\n  }\n\n  Capturar_Foto() {\n\n    this.camara.getPicture({\n      quality: 60,\n      targetHeight: 800,\n      targetWidth: 800,\n      destinationType: this.camara.DestinationType.DATA_URL,\n      encodingType: this.camara.EncodingType.JPEG,\n      mediaType: this.camara.MediaType.PICTURE\n    }).then((imageData) => {\n      this.imagen = 'data:image/jpeg;base64,' + imageData;\n    }, (err) => {\n      this.servicio.Mensaje('No capturó ninguna imagen.', 'danger');\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}