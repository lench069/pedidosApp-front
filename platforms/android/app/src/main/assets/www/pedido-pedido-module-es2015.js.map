{"version":3,"sources":["./src/app/pedido/pedido.page.html","./src/app/pedido/pedido-routing.module.ts","./src/app/pedido/pedido.module.ts","./src/app/pedido/pedido.page.scss","./src/app/pedido/pedido.page.ts"],"names":[],"mappings":"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","file":"pedido-pedido-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"warning\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" defaultHref=\\\"pedidos\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title size=\\\"small\\\">{{id == 0 ? 'Nuevo' : 'Editar'}} pedido {{id == 0 ? '' : id}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"Guardar()\\\">\\n        <ion-icon name=\\\"save\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Cliente</ion-label>\\n      <ion-select placeholder=\\\"Seleccionar\\\" [(ngModel)]=\\\"cliente_id\\\" [disabled]=\\\"id != 0\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Cancelar\\\">\\n        <ion-select-option [value]=\\\"cliente.id\\\" *ngFor=\\\"let cliente of clientes\\\">{{cliente.nombre}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Atendido por:</ion-label>\\n      <ion-select placeholder=\\\"Seleccionar\\\" [(ngModel)]=\\\"usuario_id\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Cancelar\\\">\\n        <ion-select-option [value]=\\\"usuario.id\\\" *ngFor=\\\"let usuario of usuarios\\\">{{usuario.nombre}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Fecha</ion-label>\\n      <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" placeholder=\\\"Seleccionar fecha\\\" [disabled]=\\\"id != 0\\\" cancelText=\\\"Cancelar\\\" doneText=\\\"Seleccionar\\\" [(ngModel)]=\\\"fecha\\\"></ion-datetime>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"id != 0\\\">\\n      <ion-label position=\\\"stacked\\\">Estado</ion-label>\\n      <ion-select placeholder=\\\"Seleccionar\\\" [(ngModel)]=\\\"estado\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Cancelar\\\">\\n        <ion-select-option [value]=\\\"est.id\\\" *ngFor=\\\"let est of estados\\\">{{est.texto}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n    <ion-item *ngIf=\\\"id != 0\\\">\\n      <ion-label position=\\\"stacked\\\">Productos</ion-label>\\n      <ion-select placeholder=\\\"Seleccionar\\\" [(ngModel)]=\\\"_producto\\\" okText=\\\"Seleccionar\\\" cancelText=\\\"Cancelar\\\" (ionChange)=\\\"Prod_Seleccionado()\\\">\\n        <ion-select-option [value]=\\\"producto\\\" *ngFor=\\\"let producto of productos\\\">{{producto.nombre}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n    <ion-list-header color=\\\"danger\\\">\\n      Detalle productos\\n    </ion-list-header>\\n    <ion-item-sliding *ngFor=\\\"let _prod of productos_listado\\\" #ionItemSliding>\\n      <ion-item>\\n        <ion-label text-wrap>\\n          <h3>{{_prod.nombre|uppercase}}</h3>\\n          <p><b>Precio:</b> ${{_prod.precio|number}}</p>\\n        </ion-label>\\n        <ion-input slot=\\\"end\\\" [(ngModel)]=\\\"_prod.cantidad\\\" (ionChange)=\\\"Mod_Producto(_prod)\\\" type=\\\"number\\\"></ion-input>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"Borrar_Producto(_prod, ionItemSliding)\\\">\\n          <ion-icon name=\\\"trash\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n    <ion-list-header color=\\\"success\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col><strong>Subtotal: </strong>{{subtotal|currency}}</ion-col>\\n          <ion-col><strong>Iva: </strong>{{iva|currency}}</ion-col>\\n          <ion-col><strong>Total: </strong>{{total|currency}}</ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-list-header>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PedidoPage } from './pedido.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PedidoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PedidoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PedidoPageRoutingModule } from './pedido-routing.module';\n\nimport { PedidoPage } from './pedido.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PedidoPageRoutingModule\n  ],\n  declarations: [PedidoPage]\n})\nexport class PedidoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BlZGlkby9wZWRpZG8ucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ServiciosService } from '../servicios.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController, IonItemSliding, AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-pedido',\n  templateUrl: './pedido.page.html',\n  styleUrls: ['./pedido.page.scss'],\n})\nexport class PedidoPage implements OnInit {\n\n  public id: number = 0;\n  public cliente_id: number = 0;\n  public usuario_id: number = 0;\n  public fecha: any = null;\n  public estado: number = 0;\n  public subtotal: number = 0;\n  public iva: number = 0;\n  public total: number = 0;\n\n  public clientes: any[] = [];\n  public usuarios: any[] = [];\n  public productos: any[] = [];\n  public productos_listado: any[] = [];\n  public _producto: any = null;\n  public pedido: any = null;\n\n\n  public estados: any[] = [\n    {\n      id: 0,\n      texto: 'Creado'\n    },\n    {\n      id: 1,\n      texto: 'Procesado'\n    },\n    {\n      id: 2,\n      texto: 'Finalizado'\n    }\n  ];\n\n  constructor(\n    public servicio: ServiciosService,\n    public route: ActivatedRoute,\n    public loading: LoadingController,\n    public alert: AlertController\n  ) {\n    this.id = this.route.snapshot.params.pedidoId ? this.route.snapshot.params.pedidoId : 0;\n  }\n\n  async ionViewWillEnter() {\n    this.servicio.Cliente_Listado()\n      .subscribe((data: any) => {\n        this.clientes = data.info.items;\n      });\n\n    this.servicio.Usuario_Listado()\n      .subscribe((data: any) => {\n        this.usuarios = data.info.items;\n      });\n\n    this.servicio.Producto_Listado()\n      .subscribe((data: any) => {\n        this.productos = data.info.items;\n      });\n\n    if (this.id > 0) {\n      this.Cargar_Informacion();\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  async Guardar() {\n    if (this.cliente_id == 0) {\n      this.servicio.Mensaje('Debe seleccionar el cliente.', 'warning');\n    } else if (this.usuario_id == 0) {\n      this.servicio.Mensaje('Debe seleccionar el vendedor.', 'warning');\n    } else if (this.fecha == null) {\n      this.servicio.Mensaje('Debe seleccioanr la fecha.', 'warning');\n    } else {\n      console.log(this.fecha);\n      let l = await this.loading.create();\n      l.present();\n      this.servicio.Pedido_Guardar({\n        id: this.id,\n        cliente_id: this.cliente_id,\n        usuario_id: this.usuario_id,\n        fecha: this.fecha,\n        estado: this.estado,\n        subtotal: this.subtotal,\n        iva: this.iva,\n        total: this.total,\n      }).subscribe((data: any) => {\n        l.dismiss();\n        this.servicio.Mensaje(data.mensaje, data.info.id == 0 ? 'danger' : 'success');\n        if (data.info.id > 0) {\n          this.servicio.irA('/pedidos');\n        }\n      }, _ => {\n        l.dismiss();\n        this.servicio.Mensaje('No se pudo realizar la petición.', 'danger');\n      });\n    }\n  }\n\n  async Cargar_Informacion() {\n    let l = await this.loading.create();\n    l.present();\n    this.servicio.Pedido_Consulta(this.id)\n      .subscribe((data: any) => {\n        l.dismiss();\n        if (data.info.item.id > 0) {\n          this.cliente_id = data.info.item.cliente_id;\n          this.usuario_id = data.info.item.usuario_id;\n          this.estado = data.info.item.estado;\n          this.fecha = data.info.item.fecha;\n          this.productos_listado = data.info.item.items;\n          this.subtotal = data.info.item.subtotal;\n          this.iva = data.info.item.iva;\n          this.total = data.info.item.total;\n          this.pedido = data.info.item;\n        } else {\n          this.servicio.Mensaje('El pedido que intenta consultar no existe.', 'danger');\n          this.servicio.irA('/pedidos');\n        }\n      }, _ => {\n        l.dismiss();\n        this.servicio.Mensaje('No se pudo realizar la petición.', 'danger');\n        this.servicio.irA('/pedidos');\n      });\n  }\n\n  async Prod_Seleccionado() {\n    let l = await this.loading.create();\n    l.present();\n    this.servicio.Pedido_Guardar_Producto({\n      pedido_id: this.id,\n      producto_id: this._producto.id,\n      cantidad: 1,\n      precio: this._producto.precio\n    }).subscribe((data: any) => {\n      l.dismiss();\n      this.Cargar_Informacion();\n    }, _ => {\n      l.dismiss();\n    });\n  }\n\n  async Mod_Producto(producto: any) {\n    let l = await this.loading.create();\n    l.present();\n    this.servicio.Pedido_Guardar_Producto({\n      pedido_id: this.id,\n      producto_id: producto.producto_id,\n      cantidad: producto.cantidad,\n      precio: producto.precio\n    }).subscribe((data: any) => {\n      l.dismiss();\n\n       //this.Cargar_Informacion();\n        this.calcularTotal();\n\n    }, _ => {\n      l.dismiss();\n    });\n  }\n\n  Calcular_Total(): number {\n    let total: number = 0;\n    for (let prod of this.productos_listado) {\n      total += prod.cantidad * prod.precio;\n    }\n    return total;\n  }\n\n  calcularTotal(){\n      this.subtotal = 0;\n      console.log(this.pedido);\n      this.pedido.items.forEach(element => {\n            this.subtotal = this.subtotal + (parseFloat(element.precio) * element.cantidad);\n        });\n        console.log(this.subtotal);\n        this.iva = this.subtotal * 0.12;\n        this.total = this.subtotal + this.iva;\n    \n  }\n\n  async Borrar_Producto(producto: any, ionItemSliding: IonItemSliding) {\n    ionItemSliding.close();\n\n    let alert = await this.alert.create({\n      header: 'Confirmación',\n      message: '¿Está seguro que desea eliminar?',\n      buttons: [\n        {\n          text: 'Si',\n          handler: async () => {\n            let l = await this.loading.create();\n            l.present();\n            this.servicio.Pedido_Borrar_Producto({\n              pedido_id: this.id,\n              item_id: producto.id\n            }).subscribe((data: any) => {\n              l.dismiss();\n              this.Cargar_Informacion();\n            }, _ => {\n              l.dismiss();\n            });\n          }\n        },\n        {\n          text: 'No',\n          handler: () => {\n\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}